import{d as h,h as _,b as D,E as O,I as U,J as y,K as F,M as H,N as L,O as T,Q as I,g as N,p as E,U as M,i as Y,R as d,T as k,V as m,W as q,t as w,l as C}from"./U0s9amdT.js";import{s as J,g as K}from"./DJqzowgF.js";function V(e,a,[n,s]=[0,0]){_&&n===0&&D();var u=e,t=null,i=null,f=M,A=n>0?O:0,c=!1;const R=(o,r=!0)=>{c=!0,g(r,o)},g=(o,r)=>{if(f===(f=o))return;let v=!1;if(_&&s!==-1){if(n===0){const b=U(u);b===y?s=0:b===F?s=1/0:(s=parseInt(b.substring(1)),s!==s&&(s=f?1/0:-1))}const S=s>n;!!f===S&&(u=H(),L(u),T(!1),v=!0,s=-1)}f?(t?I(t):r&&(t=N(()=>r(u))),i&&E(i,()=>{i=null})):(i?I(i):r&&(i=N(()=>r(u,[n+1,s]))),t&&E(t,()=>{t=null})),v&&T(!0)};h(()=>{c=!1,a(R),c||g(null,null)},A),_&&(u=Y)}let l=!1,p=Symbol();function W(e,a,n){const s=n[a]??(n[a]={store:null,source:q(void 0),unsubscribe:m});if(s.store!==e&&!(p in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=m;else{var u=!0;s.unsubscribe=J(e,t=>{u?s.source.v=t:w(s.source,t)}),u=!1}return e&&p in n?K(e):C(s.source)}function Z(e,a){return e.set(a),a}function $(){const e={};function a(){d(()=>{for(var n in e)e[n].unsubscribe();k(e,p,{enumerable:!1,value:!0})})}return[e,a]}function j(e){var a=l;try{return l=!1,[e(),l]}finally{l=a}}export{$ as a,Z as b,j as c,V as i,W as s};
