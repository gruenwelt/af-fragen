import"./CWj6FrbW.js";import{i as dt}from"./CYKk4mkH.js";import{k as we,h as W,al as pt,ax as ht,g as _t,e as yt,y as i,Y as gt,r as mt,i as wt,j as Oe,l as be,q as ie,af as bt,aA as xt,m as Ve,n as Ge,o as Et,aD as Qe,ab as kt,w as V,aN as Ye,aO as xe,ad as he,aP as Se,aQ as Xe,aR as Tt,aC as Dt,aS as Mt,aT as At,aU as Ie,aV as Ct,ag as St,aW as je,S as Ze,aX as It,E as Lt,aY as Pt,aZ as Nt,Q as Rt,D as Ae,a_ as zt,a$ as Ot,v as se,au as Be,av as Fe,aw as Yt,b as q,a as B,p as Xt,K as He,G as Bt,L as Ft,f as $e,N as Ee,d as Ht,x as Y,P as de,M as Z,O as J,b0 as ke,c as $t}from"./D32OiDt_.js";import{j as Kt,k as Ut,o as qt,i as Wt,e as z,a as Vt}from"./BAWg2BrY.js";import{s as Gt,i as oe,a as Qt}from"./Id97UmD1.js";import{s as Te}from"./9WOqRfSQ.js";import{b as jt,s as De}from"./CdswuzBl.js";import{p as Me,b as Ke}from"./DcnDiZgV.js";import{i as Zt}from"./KjaDEuT7.js";function Jt(t,e){return e}function ea(t,e,a,u){for(var p=[],l=e.length,v=0;v<l;v++)Tt(e[v].e,p,!0);var w=l>0&&p.length===0&&a!==null;if(w){var k=a.parentNode;Dt(k),k.append(a),u.clear(),U(t,e[0].prev,e[l-1].next)}Mt(p,()=>{for(var _=0;_<l;_++){var f=e[_];w||(u.delete(f.k),U(t,f.prev,f.next)),At(f.e,!w)}})}function ta(t,e,a,u,p,l=null){var v=t,w={flags:e,items:new Map,first:null},k=(e&je)!==0;if(k){var _=t;v=W?we(pt(_)):_.appendChild(ht())}W&&_t();var f=null,T=!1,s=gt(()=>{var o=a();return kt(o)?o:o==null?[]:Qe(o)});yt(()=>{var o=i(s),n=o.length;if(T&&n===0)return;T=n===0;let d=!1;if(W){var y=mt(v)===wt;y!==(n===0)&&(v=Oe(),we(v),be(!1),d=!0)}if(W){for(var b=null,D,x=0;x<n;x++){if(ie.nodeType===bt&&ie.data===xt){v=ie,d=!0,be(!1);break}var h=o[x],m=u(h,x);D=Je(ie,w,b,null,h,m,x,p,e,a),w.items.set(m,D),b=D}n>0&&we(Oe())}W||aa(o,w,v,p,e,u,a),l!==null&&(n===0?f?Ve(f):f=Ge(()=>l(v)):f!==null&&Et(f,()=>{f=null})),d&&be(!0),i(s)}),W&&(v=ie)}function aa(t,e,a,u,p,l,v){var le,N,ee,fe;var w=(p&It)!==0,k=(p&(Ie|Se))!==0,_=t.length,f=e.items,T=e.first,s=T,o,n=null,d,y=[],b=[],D,x,h,m;if(w)for(m=0;m<_;m+=1)D=t[m],x=l(D,m),h=f.get(x),h!==void 0&&((le=h.a)==null||le.measure(),(d??(d=new Set)).add(h));for(m=0;m<_;m+=1){if(D=t[m],x=l(D,m),h=f.get(x),h===void 0){var H=s?s.e.nodes_start:a;n=Je(H,e,n,n===null?e.first:n.next,D,x,m,u,p,v),f.set(x,n),y=[],b=[],s=n.next;continue}if(k&&ra(h,D,m,p),(h.e.f&xe)!==0&&(Ve(h.e),w&&((N=h.a)==null||N.unfix(),(d??(d=new Set)).delete(h))),h!==s){if(o!==void 0&&o.has(h)){if(y.length<b.length){var L=b[0],A;n=L.prev;var P=y[0],$=y[y.length-1];for(A=0;A<y.length;A+=1)Ue(y[A],L,a);for(A=0;A<b.length;A+=1)o.delete(b[A]);U(e,P.prev,$.next),U(e,n,P),U(e,$,L),s=L,n=$,m-=1,y=[],b=[]}else o.delete(h),Ue(h,s,a),U(e,h.prev,h.next),U(e,h,n===null?e.first:n.next),U(e,n,h),n=h;continue}for(y=[],b=[];s!==null&&s.k!==x;)(s.e.f&xe)===0&&(o??(o=new Set)).add(s),b.push(s),s=s.next;if(s===null)continue;h=s}y.push(h),n=h,s=h.next}if(s!==null||o!==void 0){for(var O=o===void 0?[]:Qe(o);s!==null;)(s.e.f&xe)===0&&O.push(s),s=s.next;var S=O.length;if(S>0){var X=(p&je)!==0&&_===0?a:null;if(w){for(m=0;m<S;m+=1)(ee=O[m].a)==null||ee.measure();for(m=0;m<S;m+=1)(fe=O[m].a)==null||fe.fix()}ea(e,O,X,f)}}w&&Ze(()=>{var G;if(d!==void 0)for(h of d)(G=h.a)==null||G.apply()}),he.first=e.first&&e.first.e,he.last=n&&n.e}function ra(t,e,a,u){(u&Ie)!==0&&Xe(t.v,e),(u&Se)!==0?Xe(t.i,a):t.i=a}function Je(t,e,a,u,p,l,v,w,k,_){var f=(k&Ie)!==0,T=(k&Ct)===0,s=f?T?V(p,!1,!1):Ye(p):p,o=(k&Se)===0?v:Ye(v),n={i:o,v:s,k:l,a:null,e:null,prev:a,next:u};try{return n.e=Ge(()=>w(t,s,o,_),W),n.e.prev=a&&a.e,n.e.next=u&&u.e,a===null?e.first=n:(a.next=n,a.e.next=n.e),u!==null&&(u.prev=n,u.e.prev=n.e),n}finally{}}function Ue(t,e,a){for(var u=t.next?t.next.e.nodes_start:a,p=e?e.e.nodes_start:a,l=t.e.nodes_start;l!==u;){var v=St(l);p.before(l),l=v}}function U(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}const na=()=>performance.now(),F={tick:t=>requestAnimationFrame(t),now:()=>na(),tasks:new Set};function et(){const t=F.now();F.tasks.forEach(e=>{e.c(t)||(F.tasks.delete(e),e.f())}),F.tasks.size!==0&&F.tick(et)}function ia(t){let e;return F.tasks.size===0&&F.tick(et),{promise:new Promise(a=>{F.tasks.add(e={c:t,f:a})}),abort(){F.tasks.delete(e)}}}function pe(t,e){Ut(()=>{t.dispatchEvent(new CustomEvent(e))})}function sa(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function qe(t){const e={},a=t.split(";");for(const u of a){const[p,l]=u.split(":");if(!p||l===void 0)break;const v=sa(p.trim());e[v]=l.trim()}return e}const oa=t=>t;function la(t,e,a,u){var p=(t&zt)!==0,l="both",v,w=e.inert,k=e.style.overflow,_,f;function T(){var y=Yt,b=he;Be(null),Fe(null);try{return v??(v=a()(e,(u==null?void 0:u())??{},{direction:l}))}finally{Be(y),Fe(b)}}var s={is_global:p,in(){e.inert=w,pe(e,"introstart"),_=Ce(e,T(),f,1,()=>{pe(e,"introend"),_==null||_.abort(),_=v=void 0,e.style.overflow=k})},out(y){e.inert=!0,pe(e,"outrostart"),f=Ce(e,T(),_,0,()=>{pe(e,"outroend"),y==null||y()})},stop:()=>{_==null||_.abort(),f==null||f.abort()}},o=he;if((o.transitions??(o.transitions=[])).push(s),Kt){var n=p;if(!n){for(var d=o.parent;d&&(d.f&Lt)!==0;)for(;(d=d.parent)&&(d.f&Pt)===0;);n=!d||(d.f&Nt)!==0}n&&Rt(()=>{Ae(()=>s.in())})}}function Ce(t,e,a,u,p){var l=u===1;if(Ot(e)){var v,w=!1;return Ze(()=>{if(!w){var y=e({direction:l?"in":"out"});v=Ce(t,y,a,u,p)}}),{abort:()=>{w=!0,v==null||v.abort()},deactivate:()=>v.deactivate(),reset:()=>v.reset(),t:()=>v.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return p(),{abort:se,deactivate:se,reset:se,t:()=>u};const{delay:k=0,css:_,tick:f,easing:T=oa}=e;var s=[];if(l&&a===void 0&&(f&&f(0,1),_)){var o=qe(_(0,1));s.push(o,o)}var n=()=>1-u,d=t.animate(s,{duration:k,fill:"forwards"});return d.onfinish=()=>{d.cancel();var y=(a==null?void 0:a.t())??1-u;a==null||a.abort();var b=u-y,D=e.duration*Math.abs(b),x=[];if(D>0){var h=!1;if(_)for(var m=Math.ceil(D/16.666666666666668),H=0;H<=m;H+=1){var L=y+b*T(H/m),A=qe(_(L,1-L));x.push(A),h||(h=A.overflow==="hidden")}h&&(t.style.overflow="hidden"),n=()=>{var P=d.currentTime;return y+b*T(P/D)},f&&ia(()=>{if(d.playState!=="running")return!1;var P=n();return f(P,1-P),!0})}d=t.animate(x,{duration:D,fill:"forwards"}),d.onfinish=()=>{n=()=>u,f==null||f(u,1-u),p()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=se)},deactivate:()=>{p=se},reset:()=>{u===0&&(f==null||f(1,0))},t:()=>n()}}function fa(t){return function(...e){var a=e[0];return a.stopPropagation(),t==null?void 0:t.apply(this,e)}}function ca(t){return function(...e){var a=e[0];return a.preventDefault(),t==null?void 0:t.apply(this,e)}}var ua=q('<div class="spinner-wrapper svelte-y64109"><div class="spinner svelte-y64109"></div></div>');function Sa(t){var e=ua();B(t,e)}function va(t){const e=t-1;return e*e*e+1}function We(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function da(t,{delay:e=0,duration:a=400,easing:u=va,x:p=0,y:l=0,opacity:v=0}={}){const w=getComputedStyle(t),k=+w.opacity,_=w.transform==="none"?"":w.transform,f=k*(1-v),[T,s]=We(p),[o,n]=We(l);return{delay:e,duration:a,easing:u,css:(d,y)=>`
			transform: ${_} translate(${(1-d)*T}${s}, ${(1-d)*o}${n});
			opacity: ${k-f*y}`}}var pa=q('<button aria-label="Bilder öffnen">‹</button>'),ha=q('<div class="pdfpanel-empty">Lade Bilder…</div>'),_a=q('<div class="pdfpanel-empty"> </div>'),ya=q('<div class="pdfpanel-empty">Keine Seiten gefunden.</div>'),ga=q('<img class="page-img svelte-147orea" loading="lazy" decoding="async"/>'),ma=q('<div class="pdfpanel-overlay svelte-147orea" aria-hidden="true"><button type="button" class="pdfpanel-backdrop svelte-147orea" aria-label="Schließen"></button> <div role="dialog" aria-modal="true"><div class="pdfpanel-body text-inherit svelte-147orea"><button type="button" class="pdfpanel-close absolute top-3 right-3 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none cursor-pointer svelte-147orea" aria-label="Schließen"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 cursor-pointer svelte-147orea" fill="none" viewBox="0 0 24 24" stroke="#374151" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-147orea"></path></svg></button> <div role="button" tabindex="0" aria-label="Dokument zoomen (Doppeltippen oder Eingabe/Leertaste)"><div class="pages svelte-147orea"><!></div></div></div></div></div>'),wa=q("<!> <!>",1);function Ia(t,e){Xt(e,!1);const[a,u]=Qt(),p=()=>Gt(Zt,"$isDarkMode",a);let l=V(!1),v=Me(e,"src",8,""),w=Me(e,"title",8,"Dokument"),k=Me(e,"showToggle",8,!0),_=V([]),f=V(""),T=V(!1),s=V(null),o=V(null),n=1,d=0,y=0;const b=1,D=4;let x=0,h=0,m=0,H=0;function L(r,c,g){return Math.max(c,Math.min(g,r))}function A(){i(o)&&(i(o).style.setProperty("--scale",String(n)),i(o).style.setProperty("--tx",d+"px"),i(o).style.setProperty("--ty",y+"px"))}function P(){!i(s)||!i(o)||(x=i(s).clientWidth,h=i(s).clientHeight,m=i(o).offsetWidth||x,H=i(o).scrollHeight||i(o).offsetHeight||h,$())}function $(){if(!i(s)||!i(o))return;const r=m*n,c=H*n,g=Math.min(0,x-r),E=Math.min(0,h-c),M=0,R=0;d=L(d,g,M),y=L(y,E,R),A()}function O(r,c,g){if(!i(s))return;const E=n,M=L(r,b,D);if(M===E)return;const R=M/E;d=c-(c-d)*R,y=g-(g-y)*R,n=M,$()}const S=new Map;let X=null;function le(r){var c,g;!i(l)||!i(s)||((g=(c=r.target).setPointerCapture)==null||g.call(c,r.pointerId),S.set(r.pointerId,{x:r.clientX,y:r.clientY}),S.size===1&&n>1&&(X={x:r.clientX,y:r.clientY}))}function N(r){if(i(l)&&S.has(r.pointerId)){if(S.set(r.pointerId,{x:r.clientX,y:r.clientY}),S.size===2&&i(s)){const[c,g]=[...S.values()],E=(c.x+g.x)/2,M=(c.y+g.y)/2,R=i(s).getBoundingClientRect(),I=E-R.left,te=M-R.top;if(i(N)._prevDist){const ae=i(N)._prevDist,re=c.x-g.x,ye=c.y-g.y,C=Math.hypot(re,ye)||1,K=C/ae,ge=L(n*K,b,D);O(ge,I,te),ke(N,i(N)._prevDist=C)}else{const ae=c.x-g.x,re=c.y-g.y;ke(N,i(N)._prevDist=Math.hypot(ae,re)||1)}X=null,r.preventDefault();return}if(S.size===1&&X&&n>1){const c={x:r.clientX,y:r.clientY},g=c.x-X.x,E=c.y-X.y;X=c,d+=g,y+=E,$(),r.preventDefault()}}}function ee(r){i(l)&&(S.delete(r.pointerId),S.size<2&&ke(N,i(N)._prevDist=0),S.size===0&&(X=null))}function fe(r){if(!(!i(l)||!i(s)))if(r.ctrlKey){r.preventDefault();const c=i(s).getBoundingClientRect(),g=r.clientX-c.left,E=r.clientY-c.top,M=Math.exp(-r.deltaY*.0015);O(n*M,g,E)}else n>1&&(y+=-r.deltaY,d+=-r.deltaX,$(),r.preventDefault())}let G=0;function tt(r){if(!i(l)||!i(s))return;const c=Date.now();if(c-G<300){const g=i(s).getBoundingClientRect(),E=r.clientX?r.clientX-g.left:g.width/2,M=r.clientY?r.clientY-g.top:g.height/2,R=n<1.5?2:1;O(R,E,M),G=0,r.preventDefault()}else G=c}function at(r){if(!(!i(l)||!i(s))&&(r.key==="Enter"||r.key===" ")){r.preventDefault();const c=i(s).getBoundingClientRect(),g=c.width/2,E=c.height/2,M=n<1.5?2:1;O(M,g,E)}}function rt(r){return`/pdf-images/${(r.split("/").pop()||"document.pdf").replace(/\.pdf$/i,"")}/manifest.json`}async function nt(){if(Y(_,[]),Y(f,""),!(!i(l)||!v())){Y(T,!0);try{const r=await fetch(rt(v()),{cache:"no-cache"});if(!r.ok)throw new Error(`HTTP ${r.status}`);const c=await r.json();if(!c||!Array.isArray(c.pages))throw new Error("Ungültiges Manifest");Y(_,c.pages)}catch(r){console.error("Manifest laden fehlgeschlagen",r),Y(f,"Bilder konnten nicht geladen werden.")}finally{Y(T,!1),n=1,d=0,y=0,A(),requestAnimationFrame(()=>P())}}}function _e(){Y(l,!1)}function Le(r){r.key==="Escape"&&_e()}function Pe(){i(l)&&P()}let ce=null;qt(()=>{window.addEventListener("keydown",Le),window.addEventListener("resize",Pe),i(o)&&(ce=new ResizeObserver(()=>P()),ce.observe(i(o))),A()}),Wt(()=>{window.removeEventListener("keydown",Le),window.removeEventListener("resize",Pe),ce&&i(o)&&ce.disconnect()}),He(()=>p(),()=>{document.documentElement.classList.toggle("dark",p())}),He(()=>(i(l),Bt(v()),jt),()=>{i(l),v(),(async()=>i(l)&&v()&&(await Promise.resolve(),await nt()))()}),Ft(),dt();var Ne=wa(),Re=$e(Ne);{var it=r=>{var c=pa();de(()=>De(c,1,`fixed right-0 top-1/3 -translate-y-1/2 z-[10000]
         w-10 h-20 rounded-l-full shadow-lg
         flex items-center justify-center text-4xl cursor-pointer
         transition-opacity duration-300 motion-reduce:transition-none
         ${p()?"bg-[#1e1e1e] text-gray-200 hover:bg-[#2a2a2a]":"bg-white text-gray-700 hover:bg-gray-50"}
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-sky-500`,"svelte-147orea")),z("click",c,()=>Y(l,!0)),B(r,c)};oe(Re,r=>{k()&&!i(l)&&r(it)})}var st=Ee(Re,2);{var ot=r=>{var c=ma(),g=Z(c),E=Ee(g,2),M=Z(E),R=Z(M),I=Ee(R,2),te=Z(I),ae=Z(te);{var re=C=>{var K=ha();B(C,K)},ye=(C,K)=>{{var ge=Q=>{var ne=_a(),me=Z(ne,!0);J(ne),de(()=>Vt(me,i(f))),B(Q,ne)},lt=(Q,ne)=>{{var me=j=>{var ue=ya();B(j,ue)},ft=j=>{var ue=$t(),ct=$e(ue);ta(ct,1,()=>i(_),Jt,(ut,ze,vt)=>{var ve=ga();Te(ve,"alt",`Seite ${vt+1}`),de(()=>Te(ve,"src",(i(ze),Ae(()=>i(ze).url)))),z("load",ve,P),B(ut,ve)}),B(j,ue)};oe(Q,j=>{i(_),Ae(()=>i(_).length===0)?j(me):j(ft,!1)},ne)}};oe(C,Q=>{i(f)?Q(ge):Q(lt,!1)},K)}};oe(ae,C=>{i(T)?C(re):C(ye,!1)})}J(te),Ke(te,C=>Y(o,C),()=>i(o)),J(I),Ke(I,C=>Y(s,C),()=>i(s)),J(M),J(E),J(c),de(()=>{De(E,1,`pdfpanel ${p()?"bg-[#1e1e1e] border-l border-gray-600 text-gray-200":"bg-white border-l border-gray-200 text-gray-700"}`,"svelte-147orea"),Te(E,"aria-label",w()),De(I,1,`pdfjs-container ${p()?"bg-[#1e1e1e]":"bg-white"}`,"svelte-147orea")}),z("click",g,_e),z("click",R,_e),z("wheel",I,fe,void 0,!1),z("pointerdown",I,le),z("pointermove",I,function(...C){var K;(K=i(N))==null||K.apply(this,C)}),z("pointerup",I,ee),z("pointercancel",I,ee),z("click",I,ca(fa(tt))),z("keydown",I,at),la(3,E,()=>da,()=>({x:24,duration:150})),B(r,c)};oe(st,r=>{i(l)&&r(ot)})}B(t,Ne),Ht(),u()}export{Sa as L,Ia as P,ta as e,Jt as i};
