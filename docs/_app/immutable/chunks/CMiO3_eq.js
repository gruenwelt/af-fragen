import"./CWj6FrbW.js";import{i as Te}from"./C5vB2Xeu.js";import{I as $,h as N,aj as Me,ao as Ae,g as De,i as Ie,o as T,v as Se,D as Ce,F as Le,G as oe,J as ee,l as z,ad as Ne,ap as He,K as _e,j as ge,k as Re,aq as he,ar as Oe,Q as F,as as fe,at as ae,ab as ve,au as se,av as de,aw as Be,ax as Pe,ay as qe,az as ze,aA as le,aB as Ke,ae as Fe,aC as me,q as Ue,aD as Ve,b as C,a as D,p as Ye,_ as Ge,x as L,a0 as Je,f as ue,a2 as re,d as Qe,a1 as J,a3 as Q,a4 as X,u as Xe,c as We}from"./5RjfrhWi.js";import{c as Ze,o as je,i as $e,e as te,a as ea}from"./CGV55Oyn.js";import{s as aa,i as K,a as ra}from"./BVh6obmB.js";import{s as ne}from"./CkLRaDTN.js";import{s as ce}from"./O9oQaKEO.js";import{p as ie}from"./TYGFmUiA.js";import{i as ta}from"./S87_Ajo9.js";function na(i,e){return e}function ia(i,e,a,v){for(var o=[],d=e.length,f=0;f<d;f++)Be(e[f].e,o,!0);var p=d>0&&o.length===0&&a!==null;if(p){var _=a.parentNode;Pe(_),_.append(a),v.clear(),S(i,e[0].prev,e[d-1].next)}qe(o,()=>{for(var b=0;b<d;b++){var u=e[b];p||(v.delete(u.k),S(i,u.prev,u.next)),ze(u.e,!p)}})}function sa(i,e,a,v,o,d=null){var f=i,p={flags:e,items:new Map,first:null},_=(e&me)!==0;if(_){var b=i;f=N?$(Me(b)):b.appendChild(Ae())}N&&De();var u=null,y=!1,t=Se(()=>{var l=a();return Oe(l)?l:l==null?[]:he(l)});Ie(()=>{var l=T(t),r=l.length;if(y&&r===0)return;y=r===0;let x=!1;if(N){var h=Ce(f)===Le;h!==(r===0)&&(f=oe(),$(f),ee(!1),x=!0)}if(N){for(var w=null,k,m=0;m<r;m++){if(z.nodeType===Ne&&z.data===He){f=z,x=!0,ee(!1);break}var n=l[m],s=v(n,m);k=be(z,p,w,null,n,s,m,o,e,a),p.items.set(s,k),w=k}r>0&&$(oe())}N||la(l,p,f,o,e,v,a),d!==null&&(r===0?u?_e(u):u=ge(()=>d(f)):u!==null&&Re(u,()=>{u=null})),x&&ee(!0),T(t)}),N&&(f=z)}function la(i,e,a,v,o,d,f){var U,A,R,V;var p=(o&Ve)!==0,_=(o&(le|se))!==0,b=i.length,u=e.items,y=e.first,t=y,l,r=null,x,h=[],w=[],k,m,n,s;if(p)for(s=0;s<b;s+=1)k=i[s],m=d(k,s),n=u.get(m),n!==void 0&&((U=n.a)==null||U.measure(),(x??(x=new Set)).add(n));for(s=0;s<b;s+=1){if(k=i[s],m=d(k,s),n=u.get(m),n===void 0){var E=t?t.e.nodes_start:a;r=be(E,e,r,r===null?e.first:r.next,k,m,s,v,o,f),u.set(m,r),h=[],w=[],t=r.next;continue}if(_&&oa(n,k,s,o),(n.e.f&ae)!==0&&(_e(n.e),p&&((A=n.a)==null||A.unfix(),(x??(x=new Set)).delete(n))),n!==t){if(l!==void 0&&l.has(n)){if(h.length<w.length){var c=w[0],g;r=c.prev;var M=h[0],H=h[h.length-1];for(g=0;g<h.length;g+=1)pe(h[g],c,a);for(g=0;g<w.length;g+=1)l.delete(w[g]);S(e,M.prev,H.next),S(e,r,M),S(e,H,c),t=c,r=H,s-=1,h=[],w=[]}else l.delete(n),pe(n,t,a),S(e,n.prev,n.next),S(e,n,r===null?e.first:r.next),S(e,r,n),r=n;continue}for(h=[],w=[];t!==null&&t.k!==m;)(t.e.f&ae)===0&&(l??(l=new Set)).add(t),w.push(t),t=t.next;if(t===null)continue;n=t}h.push(n),r=n,t=n.next}if(t!==null||l!==void 0){for(var I=l===void 0?[]:he(l);t!==null;)(t.e.f&ae)===0&&I.push(t),t=t.next;var P=I.length;if(P>0){var W=(o&me)!==0&&b===0?a:null;if(p){for(s=0;s<P;s+=1)(R=I[s].a)==null||R.measure();for(s=0;s<P;s+=1)(V=I[s].a)==null||V.fix()}ia(e,I,W,u)}}p&&Ue(()=>{var Y;if(x!==void 0)for(n of x)(Y=n.a)==null||Y.apply()}),ve.first=e.first&&e.first.e,ve.last=r&&r.e}function oa(i,e,a,v){(v&le)!==0&&de(i.v,e),(v&se)!==0?de(i.i,a):i.i=a}function be(i,e,a,v,o,d,f,p,_,b){var u=(_&le)!==0,y=(_&Ke)===0,t=u?y?F(o,!1,!1):fe(o):o,l=(_&se)===0?f:fe(f),r={i:l,v:t,k:d,a:null,e:null,prev:a,next:v};try{return r.e=ge(()=>p(i,t,l,b),N),r.e.prev=a&&a.e,r.e.next=v&&v.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),v!==null&&(v.prev=r,v.e.prev=r.e),r}finally{}}function pe(i,e,a){for(var v=i.next?i.next.e.nodes_start:a,o=e?e.e.nodes_start:a,d=i.e.nodes_start;d!==v;){var f=Fe(d);o.before(d),d=f}}function S(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var fa=C('<div class="spinner-wrapper svelte-y64109"><div class="spinner svelte-y64109"></div></div>');function Ma(i){var e=fa();D(i,e)}var va=C('<div class="pdfpanel-empty">Lade Seiten…</div>'),da=C('<div class="pdfpanel-empty"> </div>'),ua=C('<img class="panel-image svelte-1kafdn7" loading="lazy" decoding="async"/>'),ca=C('<div class="pdfpanel-empty">Keine Bilder gefunden.</div>'),pa=C('<div class="pdfpanel-overlay svelte-1kafdn7" aria-hidden="true"><button type="button" class="pdfpanel-backdrop svelte-1kafdn7" aria-label="Schließen"></button> <div role="dialog" aria-modal="true"><button type="button" class="pdfpanel-close absolute top-3 right-3 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none cursor-pointer" aria-label="Schließen"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 cursor-pointer" fill="none" viewBox="0 0 24 24" stroke="#374151" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></button> <div class="pdfpanel-body svelte-1kafdn7"><!></div></div></div>'),_a=C('<button aria-label="PDF öffnen">‹</button>'),ga=C("<!> <!>",1);function Aa(i,e){Ye(e,!1);const[a,v]=ra(),o=()=>aa(ta,"$isDarkMode",a),d=F(),f=Ze();let p=ie(e,"showToggle",8,!0),_=ie(e,"open",12,!1),b=ie(e,"title",8,"Dokument");const u="/pdf-images/Hilfsmittel_12062024-2/manifest.json";let y=F([]),t=F(!1),l=F("");async function r(E){L(t,!0),L(l,"");try{const c=await fetch(E);if(!c.ok)throw new Error(`HTTP ${c.status}`);const g=await c.json(),M=Array.isArray(g==null?void 0:g.pages)?g.pages:[];if(L(y,M.filter(Boolean)),!T(y).length)throw new Error("Ungültiges Manifest")}catch(c){L(y,[]),L(l,(c==null?void 0:c.message)||"Manifest konnte nicht geladen werden")}finally{L(t,!1)}}je(()=>{r(u),window.addEventListener("keydown",h)});function x(){_(!1),f("close")}function h(E){_()&&E.key==="Escape"&&x()}$e(()=>{window.removeEventListener("keydown",h)}),Ge(()=>o(),()=>{L(d,o()?"bg-[#1e1e1e] border-l border-gray-600 text-gray-200":"bg-white border-l border-gray-200 text-gray-700")}),Je(),Te();var w=ga(),k=ue(w);{var m=E=>{var c=pa(),g=J(c),M=re(g,2),H=J(M),I=re(H,2),P=J(I);{var W=A=>{var R=va();D(A,R)},U=(A,R)=>{{var V=O=>{var q=da(),Z=J(q,!0);Q(q),X(()=>ea(Z,T(l))),D(O,q)},Y=(O,q)=>{{var Z=B=>{var G=We(),we=ue(G);sa(we,1,()=>T(y),na,(ke,Ee,xe)=>{var j=ua();ne(j,"alt",`Seite ${xe+1}`),X(()=>ne(j,"src",T(Ee))),D(ke,j)}),D(B,G)},ye=B=>{var G=ca();D(B,G)};K(O,B=>{T(y),Xe(()=>T(y)&&T(y).length)?B(Z):B(ye,!1)},q)}};K(A,O=>{T(l)?O(V):O(Y,!1)},R)}};K(P,A=>{T(t)?A(W):A(U,!1)})}Q(I),Q(M),Q(c),X(()=>{ce(M,1,`pdfpanel ${T(d)}`,"svelte-1kafdn7"),ne(M,"aria-label",b())}),te("click",g,x),te("click",H,x),D(E,c)};K(k,E=>{_()&&E(m)})}var n=re(k,2);{var s=E=>{var c=_a();X(()=>ce(c,1,`fixed right-0 top-1/3 -translate-y-1/2 z-[10000]
         w-10 h-20 rounded-l-full shadow-lg
         flex items-center justify-center text-4xl cursor-pointer
         transition-opacity duration-300 motion-reduce:transition-none
         ${o()?"bg-[#1e1e1e] text-gray-200 hover:bg-[#2a2a2a]":"bg-white text-gray-700 hover:bg-gray-50"}
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-sky-500`,"svelte-1kafdn7")),te("click",c,()=>{_(!0),f("toggle")}),D(E,c)};K(n,E=>{p()&&!_()&&E(s)})}D(i,w),Qe(),v()}export{Ma as L,Aa as P,sa as e,na as i};
