import{i as D,h as _,g as h,E as O,D as U,H as y,F,G as H,I as k,J as I,K as T,j as N,k as E,U as L,l as M,M as Y,N as j,O as m,Q as q,x as w,o as C}from"./CHe4WhmO.js";import{s as G,g as J}from"./DFSTVCez.js";function Q(e,a,[n,s]=[0,0]){_&&n===0&&h();var u=e,i=null,r=null,f=L,A=n>0?O:0,c=!1;const R=(o,t=!0)=>{c=!0,g(t,o)},g=(o,t)=>{if(f===(f=o))return;let v=!1;if(_&&s!==-1){if(n===0){const b=U(u);b===y?s=0:b===F?s=1/0:(s=parseInt(b.substring(1)),s!==s&&(s=f?1/0:-1))}const S=s>n;!!f===S&&(u=H(),k(u),I(!1),v=!0,s=-1)}f?(i?T(i):t&&(i=N(()=>t(u))),r&&E(r,()=>{r=null})):(r?T(r):t&&(r=N(()=>t(u,[n+1,s]))),i&&E(i,()=>{i=null})),v&&I(!0)};D(()=>{c=!1,a(R),c||g(null,null)},A),_&&(u=M)}let l=!1,p=Symbol();function Z(e,a,n){const s=n[a]??(n[a]={store:null,source:q(void 0),unsubscribe:m});if(s.store!==e&&!(p in n))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=m;else{var u=!0;s.unsubscribe=G(e,i=>{u?s.source.v=i:w(s.source,i)}),u=!1}return e&&p in n?J(e):C(s.source)}function $(e,a){return e.set(a),a}function d(){const e={};function a(){Y(()=>{for(var n in e)e[n].unsubscribe();j(e,p,{enumerable:!1,value:!0})})}return[e,a]}function z(e){var a=l;try{return l=!1,[e(),l]}finally{l=a}}export{d as a,$ as b,z as c,Q as i,Z as s};
