import{d as S,h as b,b as x,E as D,Q as U,R as F,T as C,U as L,V as E,g as O,i as N,j as Y,W as Z,k as j,X as q,p as w,l as H,Y as M,Z as I,_ as P,o as Q,x as V,a0 as W}from"./DY6-lGRp.js";import{s as X,g as $}from"./juQx2AHa.js";function G(e,r,s=!1){b&&x();var a=e,n=null,t=null,i=Z,k=s?D:0,o=!1;const A=(l,u=!0)=>{o=!0,g(u,l)};var f=null;function v(){f!==null&&(f.lastChild.remove(),a.before(f),f=null);var l=i?n:t,u=i?t:n;l&&q(l),u&&w(u,()=>{i?t=null:n=null})}const g=(l,u)=>{if(i===(i=l))return;let h=!1;if(b){const R=U(a)===F;!!i===R&&(a=C(),L(a),E(!1),h=!0)}var m=j(),_=a;if(m&&(f=document.createDocumentFragment(),f.append(_=O())),i?n??(n=u&&N(()=>u(_))):t??(t=u&&N(()=>u(_))),m){var d=Y,y=i?n:t,T=i?t:n;y&&d.skipped_effects.delete(y),T&&d.skipped_effects.add(T),d.add_callback(v)}else v();h&&E(!0)};S(()=>{o=!1,r(A),o||g(null,null)},k),b&&(a=H)}let c=!1,p=Symbol();function J(e,r,s){const a=s[r]??(s[r]={store:null,source:P(void 0),unsubscribe:I});if(a.store!==e&&!(p in s))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=I;else{var n=!0;a.unsubscribe=X(e,t=>{n?a.source.v=t:V(a.source,t)}),n=!1}return e&&p in s?$(e):Q(a.source)}function K(e,r){return e.set(r),r}function ee(){const e={};function r(){M(()=>{for(var s in e)e[s].unsubscribe();W(e,p,{enumerable:!1,value:!0})})}return[e,r]}function ae(e){var r=c;try{return c=!1,[e(),c]}finally{c=r}}export{ee as a,K as b,ae as c,G as i,J as s};
