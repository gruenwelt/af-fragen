import"./CWj6FrbW.js";import{i as nt}from"./D5DpfRmw.js";import{k as _e,h as Y,al as it,au as st,g as ot,e as lt,y as u,Y as ft,r as ct,i as vt,j as Ce,l as he,q as ae,af as ut,av as dt,m as Be,n as He,o as pt,aw as $e,ab as _t,w as K,ax as Ae,ay as me,ad as ve,az as ke,aA as Le,aB as ht,aC as mt,aD as gt,aE as yt,aF as Me,aG as wt,ag as bt,aH as Ye,S as Ke,aI as xt,E as Et,aJ as kt,aK as Mt,Q as St,D as xe,aL as Tt,aM as Ct,v as re,aN as Ie,aO as Pe,aP as At,b as B,a as R,p as Lt,K as Ne,G as It,L as Pt,f as De,N as ge,d as Nt,x as z,P as fe,M as G,O as V,aQ as ze,c as Dt}from"./B1QZCl0x.js";import{j as zt,k as Rt,o as Ot,i as jt,e as j,a as Ft}from"./C62KtjaI.js";import{s as Bt,i as ne,a as Ht}from"./BsYedn3r.js";import{s as ye}from"./BPaQAVJS.js";import{b as $t,s as we}from"./YoAn9z3e.js";import{p as be,b as Re}from"./Bz-TKHwh.js";import{i as Yt}from"./Cknv7Lvm.js";function Kt(t,e){return e}function Xt(t,e,a,l){for(var c=[],o=e.length,f=0;f<o;f++)ht(e[f].e,c,!0);var y=o>0&&c.length===0&&a!==null;if(y){var x=a.parentNode;mt(x),x.append(a),l.clear(),F(t,e[0].prev,e[o-1].next)}gt(c,()=>{for(var d=0;d<o;d++){var s=e[d];y||(l.delete(s.k),F(t,s.prev,s.next)),yt(s.e,!y)}})}function Ut(t,e,a,l,c,o=null){var f=t,y={flags:e,items:new Map,first:null},x=(e&Ye)!==0;if(x){var d=t;f=Y?_e(it(d)):d.appendChild(st())}Y&&ot();var s=null,M=!1,r=ft(()=>{var _=a();return _t(_)?_:_==null?[]:$e(_)});lt(()=>{var _=u(r),n=_.length;if(M&&n===0)return;M=n===0;let v=!1;if(Y){var h=ct(f)===vt;h!==(n===0)&&(f=Ce(),_e(f),he(!1),v=!0)}if(Y){for(var w=null,E,b=0;b<n;b++){if(ae.nodeType===ut&&ae.data===dt){f=ae,v=!0,he(!1);break}var p=_[b],g=l(p,b);E=Xe(ae,y,w,null,p,g,b,c,e,a),y.items.set(g,E),w=E}n>0&&_e(Ce())}Y||qt(_,y,f,c,e,l,a),o!==null&&(n===0?s?Be(s):s=He(()=>o(f)):s!==null&&pt(s,()=>{s=null})),v&&he(!0),u(r)}),Y&&(f=ae)}function qt(t,e,a,l,c,o,f){var W,se,oe,J;var y=(c&xt)!==0,x=(c&(Me|ke))!==0,d=t.length,s=e.items,M=e.first,r=M,_,n=null,v,h=[],w=[],E,b,p,g;if(y)for(g=0;g<d;g+=1)E=t[g],b=o(E,g),p=s.get(b),p!==void 0&&((W=p.a)==null||W.measure(),(v??(v=new Set)).add(p));for(g=0;g<d;g+=1){if(E=t[g],b=o(E,g),p=s.get(b),p===void 0){var H=r?r.e.nodes_start:a;n=Xe(H,e,n,n===null?e.first:n.next,E,b,g,l,c,f),s.set(b,n),h=[],w=[],r=n.next;continue}if(x&&Gt(p,E,g,c),(p.e.f&me)!==0&&(Be(p.e),y&&((se=p.a)==null||se.unfix(),(v??(v=new Set)).delete(p))),p!==r){if(_!==void 0&&_.has(p)){if(h.length<w.length){var I=w[0],C;n=I.prev;var N=h[0],Q=h[h.length-1];for(C=0;C<h.length;C+=1)Oe(h[C],I,a);for(C=0;C<w.length;C+=1)_.delete(w[C]);F(e,N.prev,Q.next),F(e,n,N),F(e,Q,I),r=I,n=Q,g-=1,h=[],w=[]}else _.delete(p),Oe(p,r,a),F(e,p.prev,p.next),F(e,p,n===null?e.first:n.next),F(e,n,p),n=p;continue}for(h=[],w=[];r!==null&&r.k!==b;)(r.e.f&me)===0&&(_??(_=new Set)).add(r),w.push(r),r=r.next;if(r===null)continue;p=r}h.push(p),n=p,r=p.next}if(r!==null||_!==void 0){for(var T=_===void 0?[]:$e(_);r!==null;)(r.e.f&me)===0&&T.push(r),r=r.next;var X=T.length;if(X>0){var ie=(c&Ye)!==0&&d===0?a:null;if(y){for(g=0;g<X;g+=1)(oe=T[g].a)==null||oe.measure();for(g=0;g<X;g+=1)(J=T[g].a)==null||J.fix()}Xt(e,T,ie,s)}}y&&Ke(()=>{var Z;if(v!==void 0)for(p of v)(Z=p.a)==null||Z.apply()}),ve.first=e.first&&e.first.e,ve.last=n&&n.e}function Gt(t,e,a,l){(l&Me)!==0&&Le(t.v,e),(l&ke)!==0?Le(t.i,a):t.i=a}function Xe(t,e,a,l,c,o,f,y,x,d){var s=(x&Me)!==0,M=(x&wt)===0,r=s?M?K(c,!1,!1):Ae(c):c,_=(x&ke)===0?f:Ae(f),n={i:_,v:r,k:o,a:null,e:null,prev:a,next:l};try{return n.e=He(()=>y(t,r,_,d),Y),n.e.prev=a&&a.e,n.e.next=l&&l.e,a===null?e.first=n:(a.next=n,a.e.next=n.e),l!==null&&(l.prev=n,l.e.prev=n.e),n}finally{}}function Oe(t,e,a){for(var l=t.next?t.next.e.nodes_start:a,c=e?e.e.nodes_start:a,o=t.e.nodes_start;o!==l;){var f=bt(o);c.before(o),o=f}}function F(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}const Vt=()=>performance.now(),O={tick:t=>requestAnimationFrame(t),now:()=>Vt(),tasks:new Set};function Ue(){const t=O.now();O.tasks.forEach(e=>{e.c(t)||(O.tasks.delete(e),e.f())}),O.tasks.size!==0&&O.tick(Ue)}function Qt(t){let e;return O.tasks.size===0&&O.tick(Ue),{promise:new Promise(a=>{O.tasks.add(e={c:t,f:a})}),abort(){O.tasks.delete(e)}}}function ce(t,e){Rt(()=>{t.dispatchEvent(new CustomEvent(e))})}function Wt(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function je(t){const e={},a=t.split(";");for(const l of a){const[c,o]=l.split(":");if(!c||o===void 0)break;const f=Wt(c.trim());e[f]=o.trim()}return e}const Jt=t=>t;function Zt(t,e,a,l){var c=(t&Tt)!==0,o="both",f,y=e.inert,x=e.style.overflow,d,s;function M(){var h=At,w=ve;Ie(null),Pe(null);try{return f??(f=a()(e,(l==null?void 0:l())??{},{direction:o}))}finally{Ie(h),Pe(w)}}var r={is_global:c,in(){e.inert=y,ce(e,"introstart"),d=Ee(e,M(),s,1,()=>{ce(e,"introend"),d==null||d.abort(),d=f=void 0,e.style.overflow=x})},out(h){e.inert=!0,ce(e,"outrostart"),s=Ee(e,M(),d,0,()=>{ce(e,"outroend"),h==null||h()})},stop:()=>{d==null||d.abort(),s==null||s.abort()}},_=ve;if((_.transitions??(_.transitions=[])).push(r),zt){var n=c;if(!n){for(var v=_.parent;v&&(v.f&Et)!==0;)for(;(v=v.parent)&&(v.f&kt)===0;);n=!v||(v.f&Mt)!==0}n&&St(()=>{xe(()=>r.in())})}}function Ee(t,e,a,l,c){var o=l===1;if(Ct(e)){var f,y=!1;return Ke(()=>{if(!y){var h=e({direction:o?"in":"out"});f=Ee(t,h,a,l,c)}}),{abort:()=>{y=!0,f==null||f.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return c(),{abort:re,deactivate:re,reset:re,t:()=>l};const{delay:x=0,css:d,tick:s,easing:M=Jt}=e;var r=[];if(o&&a===void 0&&(s&&s(0,1),d)){var _=je(d(0,1));r.push(_,_)}var n=()=>1-l,v=t.animate(r,{duration:x,fill:"forwards"});return v.onfinish=()=>{v.cancel();var h=(a==null?void 0:a.t())??1-l;a==null||a.abort();var w=l-h,E=e.duration*Math.abs(w),b=[];if(E>0){var p=!1;if(d)for(var g=Math.ceil(E/16.666666666666668),H=0;H<=g;H+=1){var I=h+w*M(H/g),C=je(d(I,1-I));b.push(C),p||(p=C.overflow==="hidden")}p&&(t.style.overflow="hidden"),n=()=>{var N=v.currentTime;return h+w*M(N/E)},s&&Qt(()=>{if(v.playState!=="running")return!1;var N=n();return s(N,1-N),!0})}v=t.animate(b,{duration:E,fill:"forwards"}),v.onfinish=()=>{n=()=>l,s==null||s(l,1-l),c()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=re)},deactivate:()=>{c=re},reset:()=>{l===0&&(s==null||s(1,0))},t:()=>n()}}var ea=B('<div class="spinner-wrapper svelte-y64109"><div class="spinner svelte-y64109"></div></div>');function ya(t){var e=ea();R(t,e)}function ta(t){const e=t-1;return e*e*e+1}function Fe(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function aa(t,{delay:e=0,duration:a=400,easing:l=ta,x:c=0,y:o=0,opacity:f=0}={}){const y=getComputedStyle(t),x=+y.opacity,d=y.transform==="none"?"":y.transform,s=x*(1-f),[M,r]=Fe(c),[_,n]=Fe(o);return{delay:e,duration:a,easing:l,css:(v,h)=>`
			transform: ${d} translate(${(1-v)*M}${r}, ${(1-v)*_}${n});
			opacity: ${x-s*h}`}}var ra=B('<button aria-label="Bilder öffnen">‹</button>'),na=B('<div class="pdfpanel-empty">Lade Bilder…</div>'),ia=B('<div class="pdfpanel-empty"> </div>'),sa=B('<div class="pdfpanel-empty">Keine Seiten gefunden.</div>'),oa=B('<img class="page-img svelte-jpm71x" loading="lazy" decoding="async"/>'),la=B('<div class="pdfpanel-overlay svelte-jpm71x" aria-hidden="true"><button type="button" class="pdfpanel-backdrop svelte-jpm71x" aria-label="Schließen"></button> <div role="dialog" aria-modal="true"><div class="pdfpanel-body text-inherit svelte-jpm71x"><button type="button" class="pdfpanel-close absolute top-3 right-3 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none cursor-pointer svelte-jpm71x" aria-label="Schließen"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 cursor-pointer svelte-jpm71x" fill="none" viewBox="0 0 24 24" stroke="#374151" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-jpm71x"></path></svg></button> <div><div class="pages svelte-jpm71x"><!></div></div></div></div></div>'),fa=B("<!> <!>",1);function wa(t,e){Lt(e,!1);const[a,l]=Ht(),c=()=>Bt(Yt,"$isDarkMode",a);let o=K(!1),f=be(e,"src",8,""),y=be(e,"title",8,"Dokument"),x=be(e,"showToggle",8,!0),d=K([]),s=K(""),M=K(!1),r=K(null),_=K(null),n=!1,v=1,h=1;const w=.5,E=3;function b(i,m,k){return Math.max(m,Math.min(k,i))}function p(i,m,k){if(!u(r))return;const S=parseFloat(getComputedStyle(u(r)).getPropertyValue("--zoom"))||1,L=b(i,w,E);if(L===S)return;const P=u(r).scrollLeft,A=u(r).scrollTop,$=(P+m)/S,ee=(A+k)/S;u(r).style.setProperty("--zoom",String(L)),ze(r,u(r).scrollLeft=$*L-m),ze(r,u(r).scrollTop=ee*L-k)}function g(i){return`/pdf-images/${(i.split("/").pop()||"document.pdf").replace(/\.pdf$/i,"")}/manifest.json`}async function H(){if(z(d,[]),z(s,""),!(!u(o)||!f())){z(M,!0);try{const i=await fetch(g(f()),{cache:"no-cache"});if(!i.ok)throw new Error(`HTTP ${i.status}`);const m=await i.json();if(!m||!Array.isArray(m.pages))throw new Error("Ungültiges Manifest");z(d,m.pages)}catch(i){console.error("Manifest laden fehlgeschlagen",i),z(s,"Bilder konnten nicht geladen werden.")}finally{z(M,!1),u(r)&&u(r).style.removeProperty("--zoom")}}}function I(){z(o,!1)}function C(i){i.key==="Escape"&&I()}function N(){u(o)}function Q(i){if(u(o)&&i.ctrlKey){if(i.preventDefault(),!u(r))return;const m=u(r).getBoundingClientRect(),k=i.clientX-m.left,S=i.clientY-m.top,L=Math.exp(-i.deltaY*.0015),P=b(v*L,w,E);p(P,k,S),v=P,h=P}}const T=new Map;let X=0,ie=1;function W(i,m){const k=i.x-m.x,S=i.y-m.y;return Math.hypot(k,S)}function se(i){var m,k;if(u(o)&&((k=(m=i.target).setPointerCapture)==null||k.call(m,i.pointerId),T.set(i.pointerId,{x:i.clientX,y:i.clientY}),T.size===2)){const[S,L]=[...T.values()];X=W(S,L),ie=v,n=!0}}function oe(i){if(u(o)&&T.has(i.pointerId)&&(T.set(i.pointerId,{x:i.clientX,y:i.clientY}),n&&T.size===2&&u(r))){const[m,k]=[...T.values()],L=W(m,k)/Math.max(1,X),P=b(ie*L,w,E),A=u(r).getBoundingClientRect(),$=(m.x+k.x)/2-A.left,ee=(m.y+k.y)/2-A.top;p(P,$,ee),h=P}}function J(i){u(o)&&(T.delete(i.pointerId),n&&T.size<2&&(n=!1,h!==v&&(v=h)))}Ot(()=>{window.addEventListener("keydown",C),window.addEventListener("resize",N)}),jt(()=>{window.removeEventListener("keydown",C),window.removeEventListener("resize",N)}),Ne(()=>c(),()=>{document.documentElement.classList.toggle("dark",c())}),Ne(()=>(u(o),It(f()),$t),()=>{u(o),f(),(async()=>u(o)&&f()&&(await Promise.resolve(),await H()))()}),Pt(),nt();var Z=fa(),Se=De(Z);{var qe=i=>{var m=ra();fe(()=>we(m,1,`fixed right-0 top-1/3 -translate-y-1/2 z-[10000]
         w-10 h-20 rounded-l-full shadow-lg
         flex items-center justify-center text-4xl cursor-pointer
         transition-opacity duration-300 motion-reduce:transition-none
         ${c()?"bg-[#1e1e1e] text-gray-200 hover:bg-[#2a2a2a]":"bg-white text-gray-700 hover:bg-gray-50"}
         focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-sky-500`,"svelte-jpm71x")),j("click",m,()=>z(o,!0)),R(i,m)};ne(Se,i=>{x()&&!u(o)&&i(qe)})}var Ge=ge(Se,2);{var Ve=i=>{var m=la(),k=G(m),S=ge(k,2),L=G(S),P=G(L),A=ge(P,2),$=G(A),ee=G($);{var Qe=D=>{var ue=na();R(D,ue)},We=(D,ue)=>{{var Je=U=>{var te=ia(),de=G(te,!0);V(te),fe(()=>Ft(de,u(s))),R(U,te)},Ze=(U,te)=>{{var de=q=>{var le=sa();R(q,le)},et=q=>{var le=Dt(),tt=De(le);Ut(tt,1,()=>u(d),Kt,(at,Te,rt)=>{var pe=oa();ye(pe,"alt",`Seite ${rt+1}`),fe(()=>ye(pe,"src",(u(Te),xe(()=>u(Te).url)))),R(at,pe)}),R(q,le)};ne(U,q=>{u(d),xe(()=>u(d).length===0)?q(de):q(et,!1)},te)}};ne(D,U=>{u(s)?U(Je):U(Ze,!1)},ue)}};ne(ee,D=>{u(M)?D(Qe):D(We,!1)})}V($),Re($,D=>z(_,D),()=>u(_)),V(A),Re(A,D=>z(r,D),()=>u(r)),V(L),V(S),V(m),fe(()=>{we(S,1,`pdfpanel ${c()?"bg-[#1e1e1e] border-l border-gray-600 text-gray-200":"bg-white border-l border-gray-200 text-gray-700"}`,"svelte-jpm71x"),ye(S,"aria-label",y()),we(A,1,`pdfjs-container ${c()?"bg-[#1e1e1e]":"bg-white"}`,"svelte-jpm71x")}),j("click",k,I),j("click",P,I),j("wheel",A,Q,void 0,!1),j("pointerdown",A,se),j("pointermove",A,oe),j("pointerup",A,J),j("pointercancel",A,J),Zt(3,S,()=>aa,()=>({x:24,duration:150})),R(i,m)};ne(Ge,i=>{u(o)&&i(Ve)})}R(t,Z),Nt(),l()}export{ya as L,wa as P,Ut as e,Kt as i};
