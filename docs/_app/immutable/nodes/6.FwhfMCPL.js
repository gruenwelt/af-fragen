import"../chunks/CWj6FrbW.js";import{i as yt}from"../chunks/6KRXgVq6.js";import{o as et,h as kt,s as Z,e as N}from"../chunks/C15AciRF.js";import{h as lt,b as qt,aB as At,aC as jt,au as St,d as $t,p as It,e as zt,g as Mt,aq as Ht,j as Ct,l as K,t as Lt,c as Ae,f as G,a as c,x as Ot,v,a3 as Et,n as d,m,k as e,aD as Bt,o as je,y as n,w as a,A as C,B as xe,z as f,u as o,aE as Nt}from"../chunks/D9IqRGgs.js";import{s as Pt,i as g,a as Qt}from"../chunks/C8Kh9y5e.js";import{e as Qe,i as it}from"../chunks/Dm3iP1CP.js";import{h as Y}from"../chunks/CglYZgGq.js";import{s as R}from"../chunks/H5ie-r_h.js";import{s as _e,c as ct}from"../chunks/BTETWqzr.js";import{b as dt}from"../chunks/B7IuQZIV.js";import{p as Ut}from"../chunks/SA09G2P8.js";import{g as tt}from"../chunks/bWw-R-LM.js";import{b as ee}from"../chunks/CSnXjILV.js";import{p as Se}from"../chunks/BDitWBhb.js";function vt(Ue,$e,Te){lt&&qt();var Ie=Ue,ze=Ht,P,ge=At()?jt:St;$t(()=>{ge(ze,ze=$e())&&(P&&It(P),P=zt(()=>Te(Ie)))}),lt&&(Ie=Mt)}const Tt=!0,Mr=Object.freeze(Object.defineProperty({__proto__:null,prerender:Tt},Symbol.toStringTag,{value:"Module"}));var Dt=v('<meta name="description" content="Pr√ºfungsfragen zum Erwerb von Amateurfunkpr√ºfungsbescheinigungen"/>'),Ft=v('<div class="fixed inset-0 z-50 flex items-center justify-center pointer-events-none"><div class="w-4 h-4 bg-gray-400 rounded-full animate-pulse"></div></div>'),Kt=v("<button> </button>"),Rt=v('<div class="w-screen flex justify-center items-center min-h-screen"><div class="flex flex-col items-center text-center gap-6"><div class="flex gap-4"></div> <button class="px-10 py-4 text-2xl rounded-full bg-green-600 text-white shadow relative cursor-pointer" style="border-radius: 9999px 9999px 9999px 9999px;">Session starten</button></div></div>'),Wt=v("<button> </button>"),Xt=v('<div class="w-screen flex justify-center items-center min-h-screen"><div class="flex flex-col items-center text-center gap-6"><h2 class="text-xl font-semibold">Session beendet</h2> <p class="text-green-700 text-lg"> </p> <div class="flex gap-4"></div> <button class="px-10 py-4 text-2xl rounded-full bg-green-600 text-white shadow cursor-pointer">Neue session starten</button></div></div>'),Zt=v('<div class="mb-2"></div> <div class="flex justify-center mb-5"><img alt="Bild zur Frage" class="w-auto h-auto max-h-[300px] mx-auto"/></div>',1),Gt=v('<div class="text-center"><!></div>'),Jt=v('<div class="text-center"><!></div>'),Vt=v('<img class="w-auto h-auto max-h-[300px] mx-auto"/>'),Yt=v('<div class="text-center"><!></div>'),er=v('<div class="text-center"><!></div>'),tr=v('<button type="button"><!></button>'),rr=v('<div class="relative"><article class="bg-white shadow-md rounded-lg p-4 border border-gray-200"><!> <!> <div class="h-4"></div> <div></div> <footer class="mt-4 text-[0.6rem] text-gray-500 italic text-center whitespace-nowrap overflow-auto"> </footer></article></div>'),sr=v('<div class="w-[42rem] pb-[200px] flex"><div class="flex-grow"><!></div></div>'),ar=v('<div class="fixed bottom-[10px] left-1/2 -translate-x-1/2 bg-white/80 backdrop-blur px-4 py-2 rounded-full shadow flex items-center gap-4 z-50"><div class="flex items-center text-sm text-gray-600"> </div> <div class="flex items-center text-sm text-green-600 ml-4"> </div> <button class="ml-4 px-4 py-1 rounded-l-full rounded-r-full bg-red-500 text-white cursor-pointer">X</button></div> <button class="fixed left-4 top-1/2 transform -translate-y-1/2 w-20 h-20 rounded-full bg-white shadow-lg z-50 text-4xl cursor-pointer">‚Üê</button> <button class="fixed right-4 top-1/2 transform -translate-y-1/2 w-20 h-20 rounded-full bg-white shadow-lg z-50 text-4xl cursor-pointer">‚Üí</button>',1),or=v('<div class="flex flex-col max-w-2xl mx-auto min-h-screen px-0.0"><section class="w-full flex justify-center items-start pt-[30px] px-4" aria-label="Scrollable questions container"><!></section> <!></div>'),nr=v('<div class="mb-1"></div> <div class="flex justify-center mb-3"><img alt="Bild zur Frage" class="w-auto h-auto max-h-[160px] mx-auto"/></div>',1),lr=v('<div class="text-center"><!></div>'),ir=v('<div class="text-center"><!></div>'),cr=v('<img class="w-auto h-auto max-h-[100px] mx-auto"/>'),dr=v('<div class="text-center"><!></div>'),vr=v('<div class="text-center"><!></div>'),ur=v('<button type="button"><!></button>'),fr=v('<div class="relative"><article class="bg-white shadow-md rounded-lg p-4 border border-gray-200"><!> <!> <div class="h-2"></div> <div></div> <footer class="mt-4 text-[0.6rem] text-gray-500 italic text-center whitespace-nowrap overflow-auto"> </footer></article></div>'),mr=v('<div class="w-full pb-[80px] flex justify-center"><div class="w-full max-w-2xl"><div class="flex-grow"><!></div></div></div>'),xr=v('<div class="fixed bottom-[10px] left-1/2 -translate-x-1/2 bg-white/80 backdrop-blur px-2 py-2 rounded-full shadow flex items-center gap-2 z-50"><div class="flex items-center text-sm text-gray-600"> </div> <div class="flex items-center text-green-600 ml-2 text-sm"> </div> <button class="ml-0 px-2 py-0 rounded-l-full rounded-r-full bg-red-500 text-white cursor-pointer text-sm">X</button></div> <button class="fixed left-2 top-120 transform -translate-y-1/2 w-16 h-16 rounded-full bg-white shadow-lg z-50 text-3xl cursor-pointer">‚Üê</button> <button class="fixed right-2 top-120 transform -translate-y-1/2 w-16 h-16 rounded-full bg-white shadow-lg z-50 text-3xl cursor-pointer">‚Üí</button>',1),_r=v('<div class="flex flex-col max-w-full mx-auto min-h-screen px-1 pt-1"><section class="w-full flex justify-center items-start pt-[4px] px-[2px]" aria-label="Scrollable questions container"><!></section> <!></div>');function Hr(Ue,$e){var nt;Ct($e,!1);const[Te,Ie]=Qt(),ze=()=>Pt(Se,"$page",Te),P=m(),ge=m(),ut=m(),t=m(),ft=m(),Me=m(),De=m();function mt(s){const u=[];for(const h of s.sections||[])for(const W of h.sections||[])for(const T of W.sections||[])Array.isArray(T.questions)&&u.push(...T.questions.map(w=>({...w,section1:h.title,section2:W.title,section3:T.title})));return u}const xt=(nt=ze().data)==null?void 0:nt.fragenkatalog,rt=mt(xt??{}),ve={a:"answer_a",b:"answer_b",c:"answer_c",d:"answer_d"},He={a:"picture_a",b:"picture_b",c:"picture_c",d:"picture_d"},st=[30,100,200];let ue=m([]),Fe=m(!1),_t=m("Alle"),Ce=m(null),Ke=m(!1),te=m(!1),gt=m(!1),y=m([]),r=m(0),A=m(30),re=m([]),L=Ut($e,"selectedAnswerIndex",12,null);const pe=m({});let be=m([]);function pt(s){const u=e(Re)?12:60,h=[s.answer_a,s.answer_b,s.answer_c,s.answer_d].some(T=>T.length>u),W=!!(s.picture_a||s.picture_b||s.picture_c||s.picture_d);return h&&!W}let Re=m(!1);et(()=>{const s=()=>{d(Re,window.innerWidth<=768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)});let at=s=>{var T;const u=e(t)[e(r)];if(!u)return;L(s);const h=((T=e(re)[s])==null?void 0:T.index)===0;if(!e(y).find(w=>w.questionNumber===u.number)){const w={questionNumber:u.number,selectedIndex:s,isCorrect:h};e(y).push(w),h?Nt(P):e(be).push(w)}console.log("üì• Answer recorded:",{question:u.number,selectedIndex:s,isCorrect:h,shuffled:e(re).map(w=>w.index)}),sessionStorage.setItem(`answer-${u.number}`,s.toString())};et(()=>{console.log("MOUNTED");const s=new URLSearchParams(window.location.search);if(!s.has("class")){s.set("class","Alle");const u=`${window.location.pathname}?${s.toString()}`;window.history.replaceState({},"",u)}if(tt(Se).url){const u=tt(Se).url.searchParams.get("class")||"Alle";d(Fe,!0);let h;u==="1"||u==="2"||u==="3"?h=rt.filter(W=>W.class===u):u==="Alle"?h=rt:h=[],setTimeout(()=>{d(ue,h),d(Fe,!1)},300)}}),et(()=>{if(e(ue).length>0){const s=sessionStorage.getItem(`answer-${e(ue)[e(r)].number}`);s!==null&&L(parseInt(s))}}),K(()=>e(y),()=>{d(P,e(y).filter(s=>s.isCorrect).length)}),K(()=>Se,()=>{d(_t,tt(Se).url.searchParams.get("class")||"Alle")}),K(()=>(e(ue),e(A)),()=>{d(t,[...e(ue)].sort(()=>Math.random()-.5).slice(0,e(A)))}),K(()=>(e(t),e(r)),()=>{d(ge,e(t)[e(r)]&&pt(e(t)[e(r)])?"flex flex-col gap-3":"grid grid-cols-2 gap-3")}),K(()=>(e(t),e(r),e(pe)),()=>{if(e(t).length>0&&e(r)>=0&&e(r)<e(t).length){L(null);const s=e(t)[e(r)];if(!e(pe)[s.number]){const u=[{text:s.answer_a,html:s.answerAHtml,index:0},{text:s.answer_b,html:s.answerBHtml,index:1},{text:s.answer_c,html:s.answerCHtml,index:2},{text:s.answer_d,html:s.answerDHtml,index:3}];Bt(pe,e(pe)[s.number]=[...u].sort(()=>Math.random()-.5))}d(re,e(pe)[s.number])}}),K(()=>je(L()),()=>{d(ut,L()!==null)}),K(()=>e(y),()=>{d(ft,e(y))}),K(()=>(e(y),e(P)),()=>{d(Me,e(y).length>0?Math.round(e(P)/e(y).length*100):0)}),K(()=>e(re),()=>{d(De,e(re).findIndex(s=>s.index===0))}),K(()=>(e(te),e(y),e(be),e(t)),()=>{e(te)&&(console.log("üìå Session Ended"),console.log("‚úÖ sessionAnswers:",e(y)),console.log("‚ùå wrongQuestions:",e(be)),console.log("üì¶ limitedQuestions:",e(t).map(s=>s.number)),console.log("üîë comparing against:",e(be).map(s=>s.questionNumber)))}),Lt(),yt();var ot=Ae();kt(s=>{var u=Dt();Et.title="Fragenkatalog",c(s,u)});var bt=G(ot);{var ht=s=>{var u=Ft();c(s,u)},wt=s=>{var u=Ae(),h=G(u);{var W=w=>{var he=Rt(),Le=n(he),we=n(Le);Qe(we,5,()=>st,it,(se,Q)=>{var j=Kt();let ae;var oe=n(j,!0);a(j),C(ye=>{ae=_e(j,1,"w-16 h-10 rounded-full text-sm font-medium shadow transition-all cursor-pointer",null,ae,ye),Z(oe,e(Q))},[()=>({"bg-[color:var(--color-theme-1)]":e(A)===e(Q),"text-white":e(A)===e(Q),"bg-white":e(A)!==e(Q),"text-black":e(A)!==e(Q)})],xe),N("click",j,()=>d(A,e(Q))),c(se,j)}),a(we);var J=f(we,2);a(Le),a(he),N("click",J,()=>{d(Ke,!0)}),c(w,he)},T=(w,he)=>{{var Le=J=>{var se=Xt(),Q=n(se),j=f(n(Q),2),ae=n(j);a(j);var oe=f(j,2);Qe(oe,5,()=>st,it,(We,S)=>{var $=Wt();let O;var ke=n($,!0);a($),C(qe=>{O=_e($,1,"w-16 h-10 rounded-full text-sm font-medium shadow transition-all cursor-pointer",null,O,qe),Z(ke,e(S))},[()=>({"bg-[color:var(--color-theme-1)]":e(A)===e(S),"text-white":e(A)===e(S),"bg-white":e(A)!==e(S),"text-black":e(A)!==e(S)})],xe),N("click",$,()=>d(A,e(S))),c(We,$)}),a(oe);var ye=f(oe,2);a(Q),a(se),C(()=>Z(ae,`Richtig beantwortet: ${e(P)??""} von ${e(y),o(()=>e(y).length)??""} (${e(Me)??""}%)`)),N("click",ye,()=>{d(te,!1),d(y,[]),d(r,0),d(be,[]),d(gt,!1),L(null),d(t,[...e(ue)].sort(()=>Math.random()-.5).slice(0,e(A)))}),c(J,se)},we=(J,se)=>{{var Q=j=>{var ae=Ae(),oe=G(ae);{var ye=S=>{var $=or(),O=n($),ke=n(O);{var qe=_=>{var I=sr(),z=n(I),E=n(z);vt(E,()=>e(r),ne=>{var B=Ae(),V=G(B);{var le=M=>{var H=rr(),ie=n(H),fe=n(ie);{var Oe=b=>{var l=Zt(),i=f(G(l),2),x=n(i);a(i),C(()=>R(x,"src",(je(ee),e(t),e(r),o(()=>`${ee}/svgs/${e(t)[e(r)].picture_question}.svg`)))),c(b,l)};g(fe,b=>{e(t),e(r),o(()=>e(t)[e(r)].picture_question)&&b(Oe)})}var Ee=f(fe,2);{var Be=b=>{var l=Gt(),i=n(l);Y(i,()=>(e(t),e(r),o(()=>e(t)[e(r)].questionHtml))),a(l),c(b,l)},Ge=b=>{var l=Jt(),i=n(l);Y(i,()=>(e(t),e(r),o(()=>e(t)[e(r)].questionHtml??""))),a(l),c(b,l)};g(Ee,b=>{e(t),e(r),o(()=>typeof e(t)[e(r)].questionHtml=="string"&&e(t)[e(r)].questionHtml.includes("katex"))?b(Be):b(Ge,!1)})}var me=f(Ee,4);Qe(me,7,()=>e(re),b=>b.index,(b,l,i)=>{var x=tr();let U;var Pe=n(x);{var Je=D=>{var k=Vt();C((X,de)=>{R(k,"src",X),R(k,"alt",de)},[()=>(je(ee),e(t),e(r),e(l),o(()=>`${ee}/svgs/${e(t)[e(r)][He[Object.keys(ve)[e(l).index]]]}.svg`)),()=>(e(l),o(()=>"Bild Antwort "+Object.keys(ve)[e(l).index].toUpperCase()))],xe),c(D,k)},Ve=(D,k)=>{{var X=F=>{var p=Yt(),q=n(p);Y(q,()=>(e(l),o(()=>e(l).html))),a(p),c(F,p)},de=F=>{var p=er(),q=n(p);Y(q,()=>(e(l),o(()=>e(l).html??""))),a(p),c(F,p)};g(D,F=>{e(l),o(()=>{var p;return(p=e(l).html)==null?void 0:p.includes("katex")})?F(X):F(de,!1)},k)}};g(Pe,D=>{e(t),e(r),e(l),o(()=>e(t)[e(r)][He[Object.keys(ve)[e(l).index]]])?D(Je):D(Ve,!1)})}a(x),C(D=>{U=_e(x,1,"border border-gray-300 rounded-lg p-3 min-h-[1rem] flex items-center justify-center text-gray-700 cursor-pointer hover:border-[color:var(--color-theme-1)] w-full",null,U,D),R(x,"data-answer-index",e(i))},[()=>({"border-[color:var(--color-theme-1)]":L()===e(i),"border-green-500":L()!==null&&e(i)===e(De)})],xe),N("click",x,()=>L()===null&&at(e(i))),c(b,x)}),a(me);var ce=f(me,2),Ne=n(ce);a(ce),a(ie),a(H),C(()=>{R(ie,"data-question-id",(e(t),e(r),o(()=>e(t)[e(r)].number))),_e(me,1,ct(e(ge))),Z(Ne,`${e(t),e(r),o(()=>e(t)[e(r)].number)??""} ‚Äì ${e(t),e(r),o(()=>e(t)[e(r)].section1)??""}; ${e(t),e(r),o(()=>e(t)[e(r)].section2)??""}; ${e(t),e(r),o(()=>e(t)[e(r)].section3)??""}`)}),c(M,H)};g(V,M=>{e(t),e(r),o(()=>e(t)[e(r)])&&M(le)})}c(ne,B)}),a(z),a(I),c(_,I)};g(ke,_=>{e(t),o(()=>e(t).length>0)&&_(qe)})}a(O),dt(O,_=>d(Ce,_),()=>e(Ce));var Xe=f(O,2);{var Ze=_=>{var I=ar(),z=G(I),E=n(z),ne=n(E);a(E);var B=f(E,2),V=n(B);a(B);var le=f(B,2);a(z);var M=f(z,2),H=f(M,2);C(()=>{Z(ne,`${e(r)+1} / ${e(t),o(()=>e(t).length)??""}`),Z(V,`Siege: ${e(P)??""} (${e(Me)??""}%)`),M.disabled=e(r)===0,H.disabled=(e(r),e(t),o(()=>e(r)>=e(t).length-1))}),N("click",le,()=>d(te,!0)),N("click",M,()=>d(r,Math.max(0,e(r)-1))),N("click",H,()=>d(r,Math.min(e(t).length-1,e(r)+1))),c(_,I)};g(Xe,_=>{e(t),o(()=>e(t).length>0)&&_(Ze)})}a($),c(S,$)},We=S=>{var $=_r(),O=n($),ke=n(O);{var qe=_=>{var I=mr(),z=n(I),E=n(z),ne=n(E);vt(ne,()=>e(r),B=>{var V=Ae(),le=G(V);{var M=H=>{var ie=fr(),fe=n(ie),Oe=n(fe);{var Ee=l=>{var i=nr(),x=f(G(i),2),U=n(x);a(x),C(()=>R(U,"src",(je(ee),e(t),e(r),o(()=>`${ee}/svgs/${e(t)[e(r)].picture_question}.svg`)))),c(l,i)};g(Oe,l=>{e(t),e(r),o(()=>e(t)[e(r)].picture_question)&&l(Ee)})}var Be=f(Oe,2);{var Ge=l=>{var i=lr(),x=n(i);Y(x,()=>(e(t),e(r),o(()=>e(t)[e(r)].questionHtml))),a(i),c(l,i)},me=l=>{var i=ir(),x=n(i);Y(x,()=>(e(t),e(r),o(()=>e(t)[e(r)].questionHtml??""))),a(i),c(l,i)};g(Be,l=>{e(t),e(r),o(()=>typeof e(t)[e(r)].questionHtml=="string"&&e(t)[e(r)].questionHtml.includes("katex"))?l(Ge):l(me,!1)})}var ce=f(Be,4);Qe(ce,7,()=>e(re),l=>l.index,(l,i,x)=>{var U=ur();let Pe;var Je=n(U);{var Ve=k=>{var X=cr();C((de,F)=>{R(X,"src",de),R(X,"alt",F)},[()=>(je(ee),e(t),e(r),e(i),o(()=>`${ee}/svgs/${e(t)[e(r)][He[Object.keys(ve)[e(i).index]]]}.svg`)),()=>(e(i),o(()=>"Bild Antwort "+Object.keys(ve)[e(i).index].toUpperCase()))],xe),c(k,X)},D=(k,X)=>{{var de=p=>{var q=dr(),Ye=n(q);Y(Ye,()=>(e(i),o(()=>e(i).html))),a(q),c(p,q)},F=p=>{var q=vr(),Ye=n(q);Y(Ye,()=>(e(i),o(()=>e(i).html??""))),a(q),c(p,q)};g(k,p=>{e(i),o(()=>{var q;return(q=e(i).html)==null?void 0:q.includes("katex")})?p(de):p(F,!1)},X)}};g(Je,k=>{e(t),e(r),e(i),o(()=>e(t)[e(r)][He[Object.keys(ve)[e(i).index]]])?k(Ve):k(D,!1)})}a(U),C(k=>{Pe=_e(U,1,"border border-gray-300 rounded-lg p-2 min-h-[1rem] flex items-center justify-center text-gray-700 cursor-pointer hover:border-[color:var(--color-theme-1)] w-full text-xs",null,Pe,k),R(U,"data-answer-index",e(x))},[()=>({"border-[color:var(--color-theme-1)]":L()===e(x),"border-green-500":L()!==null&&e(x)===e(De)})],xe),N("click",U,()=>L()===null&&at(e(x))),c(l,U)}),a(ce);var Ne=f(ce,2),b=n(Ne);a(Ne),a(fe),a(ie),C(()=>{R(fe,"data-question-id",(e(t),e(r),o(()=>e(t)[e(r)].number))),_e(ce,1,ct(e(ge))),Z(b,`${e(t),e(r),o(()=>e(t)[e(r)].number)??""} ‚Äì ${e(t),e(r),o(()=>e(t)[e(r)].section1)??""}; ${e(t),e(r),o(()=>e(t)[e(r)].section2)??""}; ${e(t),e(r),o(()=>e(t)[e(r)].section3)??""}`)}),c(H,ie)};g(le,H=>{e(t),e(r),o(()=>e(t)[e(r)])&&H(M)})}c(B,V)}),a(E),a(z),a(I),c(_,I)};g(ke,_=>{e(t),o(()=>e(t).length>0)&&_(qe)})}a(O),dt(O,_=>d(Ce,_),()=>e(Ce));var Xe=f(O,2);{var Ze=_=>{var I=xr(),z=G(I),E=n(z),ne=n(E);a(E);var B=f(E,2),V=n(B);a(B);var le=f(B,2);a(z);var M=f(z,2),H=f(M,2);C(()=>{Z(ne,`${e(r)+1} / ${e(t),o(()=>e(t).length)??""}`),Z(V,`Siege: ${e(P)??""} (${e(Me)??""}%)`),M.disabled=e(r)===0,H.disabled=(e(r),e(t),o(()=>e(r)>=e(t).length-1))}),N("click",le,()=>d(te,!0)),N("click",M,()=>d(r,Math.max(0,e(r)-1))),N("click",H,()=>d(r,Math.min(e(t).length-1,e(r)+1))),c(_,I)};g(Xe,_=>{e(t),o(()=>e(t).length>0)&&_(Ze)})}a($),c(S,$)};g(oe,S=>{e(Re)?S(We,!1):S(ye)})}c(j,ae)};g(J,j=>{e(Ke)&&!e(te)&&j(Q)},se)}};g(w,J=>{e(te)?J(Le):J(we,!1)},he)}};g(h,w=>{e(Ke)?w(T,!1):w(W)})}c(s,u)};g(bt,s=>{e(Fe)?s(ht):s(wt,!1)})}c(Ue,ot),Ot(),Ie()}export{Hr as component,Mr as universal};
