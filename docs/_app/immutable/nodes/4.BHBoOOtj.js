import"../chunks/CWj6FrbW.js";import{i as wt}from"../chunks/BR0jK6OO.js";import{o as yt,h as St,s as ie,e as Q}from"../chunks/5vskBtfS.js";import{h as it,b as kt,aB as It,aC as qt,as as jt,d as At,p as $t,e as zt,g as Ct,ao as Ot,j as Mt,l as R,t as Nt,c as pe,f as W,a as c,x as Ht,n as a,m as f,k as e,aD as Lt,o as he,v as u,aA as Et,y as l,w as i,A as E,B as be,z as g,aE as Bt,u as o,aF as Pt}from"../chunks/BjVnqIq4.js";import{i as _,s as Jt,a as nt}from"../chunks/rhKq6vEq.js";import{e as tt,i as Qt}from"../chunks/CXa4loqK.js";import{h as V}from"../chunks/C3BQE6Bb.js";import{s as F}from"../chunks/Bu0xl_IN.js";import{s as we,c as lt}from"../chunks/DxDOXehW.js";import{b as dt}from"../chunks/j3JqrPg1.js";import{p as Ft}from"../chunks/C2u22pwW.js";import{g as ct}from"../chunks/2o9OdWxp.js";import{b as Y}from"../chunks/zyhT3_7Q.js";import{s as xe}from"../chunks/o1QlynWL.js";import{p as Le}from"../chunks/BKH7zIU9.js";function vt(Ee,ye,Se){it&&kt();var ke=Ee,Ie=Ot,ge,ne=It()?qt:jt;At(()=>{ne(Ie,Ie=ye())&&(ge&&$t(ge),ge=zt(()=>Se(ke)))}),it&&(ke=Ct)}const Tt=!0,Cs=Object.freeze(Object.defineProperty({__proto__:null,prerender:Tt},Symbol.toStringTag,{value:"Module"}));var Ut=u('<meta name="description" content="Prüfungsfragen zum Erwerb von Amateurfunkprüfungsbescheinigungen"/>'),Dt=u('<div class="fixed inset-0 z-50 flex items-center justify-center pointer-events-none"><div class="w-4 h-4 bg-gray-400 rounded-full animate-pulse"></div></div>'),Kt=u("<button> </button>"),Rt=u('<div class="w-screen flex justify-center items-center min-h-screen"><div class="flex flex-col items-center text-center gap-6"><div class="flex gap-4"></div> <button class="px-10 py-4 text-2xl rounded-full bg-green-600 text-white shadow relative cursor-pointer" style="border-radius: 9999px 9999px 9999px 9999px;">Los geht’s!</button></div></div>'),Wt=u('<div class="mb-2"></div> <div class="flex justify-center mb-5"><img alt="Bild zur Frage" class="w-auto h-auto max-h-[300px] mx-auto"/></div>',1),Xt=u('<div class="text-center"><!></div>'),Zt=u('<div class="text-center"><!></div>'),Gt=u('<img class="w-auto h-auto max-h-[300px] mx-auto"/>'),Vt=u('<div class="text-center"><!></div>'),Yt=u('<div class="text-center"><!></div>'),es=u('<button type="button"><!></button>'),ts=u('<div class="relative"><article class="w-full max-w-2xl bg-white shadow-md rounded-lg p-4 border border-gray-200 mx-auto"><!> <!> <div class="h-4"></div> <div></div> <footer class="mt-4 text-[0.6rem] text-gray-500 italic text-center whitespace-normal overflow-auto"> </footer></article></div>'),ss=u('<div class="w-full flex justify-center pb-[200px]"><div class="w-full max-w-2xl"><!></div></div>'),rs=u('<div class="fixed bottom-[10px] left-1/2 -translate-x-1/2 bg-white/80 backdrop-blur px-4 py-1 rounded-full shadow flex justify-between items-center z-50 w-[calc(100%-20px)] max-w-2xl"><div class="w-[25%] flex justify-start items-center text-sm text-gray-600 ml-1"> </div> <div class="w-[50%] flex justify-center items-center text-sm text-green-600 whitespace-nowrap truncate"> </div> <div class="w-[25%] flex justify-end items-center"><button class="px-4 py-1 rounded-l-full rounded-r-full bg-red-500 text-white cursor-pointer">X</button></div></div> <button class="fixed left-4 top-1/2 transform -translate-y-1/2 w-20 h-20 rounded-full bg-white shadow-lg z-50 text-4xl cursor-pointer">←</button> <button class="fixed right-4 top-1/2 transform -translate-y-1/2 w-20 h-20 rounded-full bg-white shadow-lg z-50 text-4xl cursor-pointer">→</button>',1),as=u('<div class="flex flex-col max-w-2xl w-full mx-auto min-h-screen px-4"><section class="w-full flex justify-center items-start pt-[30px]" aria-label="Scrollable questions container"><!></section> <!></div>'),os=u('<div class="mb-1"></div> <div class="flex justify-center mb-3"><img alt="Bild zur Frage" class="w-auto h-auto max-h-[160px] mx-auto"/></div>',1),is=u('<div class="text-center"><!></div>'),ns=u('<div class="text-center"><!></div>'),ls=u('<img class="w-auto h-auto max-h-[100px] mx-auto"/>'),ds=u('<div class="text-center"><!></div>'),cs=u('<div class="text-center"><!></div>'),vs=u('<button type="button"><!></button>'),us=u('<div class="relative"><article class="bg-white shadow-md rounded-lg p-4 border border-gray-200"><!> <!> <div class="h-2"></div> <div></div> <footer class="mt-4 text-[0.6rem] text-gray-500 italic text-center whitespace-normal overflow-auto"> </footer></article></div>'),fs=u('<div class="w-full pb-[80px] flex justify-center"><div class="w-full max-w-2xl"><div class="flex-grow"><!></div></div></div>'),ms=u('<div class="fixed bottom-[10px] left-1/2 -translate-x-1/2 bg-white/80 backdrop-blur px-2 py-1 rounded-full shadow flex justify-between items-center z-50 w-[calc(100%-20px)] max-w-2xl"><div class="w-[25%] flex justify-start items-center text-xs text-gray-600 ml-1"> </div> <div class="w-[50%] flex justify-center items-center text-xs text-green-600 whitespace-nowrap truncate"> </div> <div class="w-[25%] flex justify-end items-center"><button class="px-2 py-0 rounded-l-full rounded-r-full bg-red-500 text-white cursor-pointer text-xs">X</button></div></div> <button class="fixed left-2 top-120 transform -translate-y-1/2 w-16 h-16 rounded-full bg-white shadow-lg z-50 text-3xl cursor-pointer">←</button> <button class="fixed right-2 top-120 transform -translate-y-1/2 w-16 h-16 rounded-full bg-white shadow-lg z-50 text-3xl cursor-pointer">→</button>',1),xs=u('<div class="flex flex-col max-w-full mx-auto min-h-screen px-1 pt-1"><section class="w-full flex justify-center items-start pt-[4px] px-[2px]" aria-label="Scrollable questions container"><!></section> <!></div>');function Os(Ee,ye){Mt(ye,!1);const[Se,ke]=Jt(),Ie=()=>nt(xe,"$sessionStarted",Se),ge=()=>nt(Le,"$page",Se),ne=f(),Be=f(),ut=f(),ft=f(),Pe=f();let st=f(!1);function mt(r){const v=[];for(const h of r.sections||[])for(const M of h.sections||[])for(const S of M.sections||[])Array.isArray(S.questions)&&v.push(...S.questions.map(X=>({...X,section1:h.title,section2:M.title,section3:S.title})));return v}let Je=f(null),ee=f([]);const le={a:"answer_a",b:"answer_b",c:"answer_c",d:"answer_d"},qe={a:"picture_a",b:"picture_b",c:"picture_c",d:"picture_d"},xt=[25,100,200];let Qe=f([]),Fe=f(!1),te=f("Alle"),je=f(null),Te=f(!1),rt=f(!1),p=f([]),s=f(0),de=f(25),ce=f([]),$=Ft(ye,"selectedAnswerIndex",12,null),ve=f({}),Ue=f([]),Ae=f(0);function gt(r){const v=e(De)?12:60,h=[r.answer_a,r.answer_b,r.answer_c,r.answer_d].some(S=>S.length>v),M=!!(r.picture_a||r.picture_b||r.picture_c||r.picture_d);return h&&!M}let De=f(!1);yt(()=>{const r=()=>{a(De,window.innerWidth<=768)};if(r(),window.addEventListener("resize",r),sessionStorage.getItem("af-session-started")==="true")try{const h=JSON.parse(sessionStorage.getItem("af-session-answers")||"[]"),M=JSON.parse(sessionStorage.getItem("af-limited-questions")||"[]"),S=parseInt(sessionStorage.getItem("af-current-index")||"0");a(p,h),a(t,M),a(s,isNaN(S)?0:S),xe.set(!0)}catch(h){console.warn("Failed to restore session",h)}return setTimeout(()=>{a(st,!0)},0),()=>window.removeEventListener("resize",r)});let at=r=>{var S;const v=e(t)[e(s)];if(!v)return;$(r);const h=((S=e(ce)[r])==null?void 0:S.index)===0;if(!e(p).find(X=>X.questionNumber===v.number)){const X={questionNumber:v.number,selectedIndex:r,isCorrect:h};e(p).push(X),sessionStorage.setItem("af-session-started","true"),sessionStorage.setItem("af-session-answers",JSON.stringify(e(p))),sessionStorage.setItem("af-limited-questions",JSON.stringify(e(t))),sessionStorage.setItem("af-current-index",e(s).toString()),a(Ae,Math.round(e(p).filter(Ke=>Ke.isCorrect).length/e(p).length*100)),h?Pt(ne):e(Ue).push(X)}sessionStorage.setItem(`answer-${v.number}`,r.toString())},t=f([]);R(()=>e(p),()=>{a(ne,e(p).filter(r=>r.isCorrect).length)}),R(()=>Le,()=>{a(te,ct(Le).url.searchParams.get("class")??"1")}),R(()=>(e(ee),e(te)),()=>{if(e(ee).length>0){if(window&&window.location&&window.location.search!==void 0){const v=new URLSearchParams(window.location.search);if(!v.has("class")){v.set("class","1");const h=`${window.location.pathname}?${v.toString()}`;window.history.replaceState({},"",h)}}a(Fe,!0);let r;e(te)==="1"||e(te)==="2"||e(te)==="3"?r=e(ee).filter(v=>v.class===e(te)):e(te)==="Alle"?r=e(ee):r=[],setTimeout(()=>{a(Qe,r),a(Fe,!1)},300)}}),R(()=>(e(t),e(s)),()=>{a(Be,e(t)[e(s)]&&gt(e(t)[e(s)])?"flex flex-col gap-3":"grid grid-cols-2 gap-3")}),R(()=>(e(t),e(s),e(ve)),()=>{if(e(t).length>0&&e(s)>=0&&e(s)<e(t).length){$(null);const r=e(t)[e(s)];if(!e(ve)[r.number]){const v=[{text:r.answer_a,html:r.answerAHtml,index:0},{text:r.answer_b,html:r.answerBHtml,index:1},{text:r.answer_c,html:r.answerCHtml,index:2},{text:r.answer_d,html:r.answerDHtml,index:3}];Lt(ve,e(ve)[r.number]=[...v].sort(()=>Math.random()-.5))}a(ce,e(ve)[r.number])}}),R(()=>he($()),()=>{a(ut,$()!==null)}),R(()=>e(p),()=>{a(ft,e(p))}),R(()=>e(p),()=>{const r=e(p).length,v=e(p).filter(h=>h.isCorrect).length;a(Ae,r>0?Math.round(v/r*100):0)}),R(()=>e(ce),()=>{a(Pe,e(ce).findIndex(r=>r.index===0))}),Nt(),wt();var ot=pe();St(r=>{var v=Ut();Et.title="Fragenkatalog",c(r,v)});var _t=W(ot);{var pt=r=>{var v=Dt();c(r,v)},ht=(r,v)=>{{var h=M=>{var S=pe(),X=W(S);{var Ke=ue=>{var _e=Rt(),$e=l(_e),se=l($e);tt(se,5,()=>xt,Qt,(Z,z)=>{var B=Kt();let N;var T=l(B,!0);i(B),E(H=>{N=we(B,1,"w-16 h-10 rounded-full text-sm font-medium shadow transition-all cursor-pointer",null,N,H),ie(T,e(z))},[()=>({"bg-[color:var(--color-theme-1)]":e(de)===e(z),"text-white":e(de)===e(z),"bg-white":e(de)!==e(z),"text-black":e(de)!==e(z)})],be),Q("click",B,()=>a(de,e(z))),c(Z,B)}),i(se);var ze=g(se,2);i($e),i(_e),Q("click",ze,async()=>{var B;const Z=ct(Le).url.searchParams.get("class")??"1";await Bt(),e(Je)||(a(Je,(B=ge().data)==null?void 0:B.fragenkatalog),a(ee,mt(e(Je)??{})));let z;Z==="1"||Z==="2"||Z==="3"?z=e(ee).filter(N=>N.class===Z):z=e(ee),a(Qe,z),a(t,[...e(Qe)].sort(()=>Math.random()-.5).slice(0,e(de))),a(p,[]),a(ve,{}),sessionStorage.setItem("af-session-started","true"),sessionStorage.setItem("af-session-answers",JSON.stringify(e(p))),sessionStorage.setItem("af-limited-questions",JSON.stringify(e(t))),sessionStorage.setItem("af-current-index",e(s).toString()),xe.set(!0)}),c(ue,_e)},bt=(ue,_e)=>{{var $e=se=>{var ze=pe(),Z=W(ze);{var z=N=>{var T=as(),H=l(T),Re=l(H);{var We=x=>{var q=ss(),j=l(q),C=l(j);vt(C,()=>e(s),re=>{var O=pe(),G=W(O);{var U=D=>{var y=ts(),A=l(y),fe=l(A);{var Ce=w=>{var n=Wt(),d=g(W(n),2),m=l(d);i(d),E(()=>F(m,"src",(he(Y),e(t),e(s),o(()=>`${Y}/svgs/${e(t)[e(s)].picture_question}.svg`)))),c(w,n)};_(fe,w=>{e(t),e(s),o(()=>e(t)[e(s)].picture_question)&&w(Ce)})}var Oe=g(fe,2);{var Me=w=>{var n=Xt(),d=l(n);V(d,()=>(e(t),e(s),o(()=>e(t)[e(s)].questionHtml))),i(n),c(w,n)},Ge=w=>{var n=Zt(),d=l(n);V(d,()=>(e(t),e(s),o(()=>e(t)[e(s)].questionHtml??""))),i(n),c(w,n)};_(Oe,w=>{e(t),e(s),o(()=>typeof e(t)[e(s)].questionHtml=="string"&&e(t)[e(s)].questionHtml.includes("katex"))?w(Me):w(Ge,!1)})}var me=g(Oe,4);tt(me,7,()=>e(ce),w=>w.index,(w,n,d)=>{var m=es();let L;var He=l(m);{var Ve=P=>{var k=Gt();E((K,oe)=>{F(k,"src",K),F(k,"alt",oe)},[()=>(he(Y),e(t),e(s),e(n),o(()=>`${Y}/svgs/${e(t)[e(s)][qe[Object.keys(le)[e(n).index]]]}.svg`)),()=>(e(n),o(()=>"Bild Antwort "+Object.keys(le)[e(n).index].toUpperCase()))],be),c(P,k)},Ye=(P,k)=>{{var K=J=>{var b=Vt(),I=l(b);V(I,()=>(e(n),o(()=>e(n).html))),i(b),c(J,b)},oe=J=>{var b=Yt(),I=l(b);V(I,()=>(e(n),o(()=>e(n).html??""))),i(b),c(J,b)};_(P,J=>{e(n),o(()=>{var b;return(b=e(n).html)==null?void 0:b.includes("katex")})?J(K):J(oe,!1)},k)}};_(He,P=>{e(t),e(s),e(n),o(()=>e(t)[e(s)][qe[Object.keys(le)[e(n).index]]])?P(Ve):P(Ye,!1)})}i(m),E(P=>{L=we(m,1,"border border-gray-300 rounded-lg p-3 min-h-[1rem] flex items-center justify-center text-gray-700 cursor-pointer hover:border-[color:var(--color-theme-1)] w-full",null,L,P),F(m,"data-answer-index",e(d))},[()=>({"border-[color:var(--color-theme-1)]":$()===e(d),"border-green-500":$()!==null&&e(d)===e(Pe)})],be),Q("click",m,()=>$()===null&&at(e(d))),c(w,m)}),i(me);var ae=g(me,2),Ne=l(ae);i(ae),i(A),i(y),E(()=>{F(A,"data-question-id",(e(t),e(s),o(()=>e(t)[e(s)].number))),we(me,1,lt(e(Be))),ie(Ne,`${e(t),e(s),o(()=>e(t)[e(s)].number)??""} – ${e(t),e(s),o(()=>e(t)[e(s)].section1)??""}; ${e(t),e(s),o(()=>e(t)[e(s)].section2)??""}; ${e(t),e(s),o(()=>e(t)[e(s)].section3)??""}`)}),c(D,y)};_(G,D=>{e(t),e(s),o(()=>e(t)[e(s)])&&D(U)})}c(re,O)}),i(j),i(q),c(x,q)};_(Re,x=>{e(t),o(()=>e(t).length>0)&&x(We)})}i(H),dt(H,x=>a(je,x),()=>e(je));var Xe=g(H,2);{var Ze=x=>{var q=rs(),j=W(q),C=l(j),re=l(C);i(C);var O=g(C,2),G=l(O);i(O);var U=g(O,2),D=l(U);i(U),i(j);var y=g(j,2),A=g(y,2);E(()=>{ie(re,`${e(s)+1} / ${e(t),o(()=>e(t).length)??""}`),ie(G,`Erfolgsquote: ${e(ne)??""} (${e(Ae)??""}%)`),y.disabled=e(s)===0,A.disabled=(e(s),e(t),o(()=>e(s)>=e(t).length-1))}),Q("click",D,()=>{a(Te,!1),a(p,[]),a(s,0),a(Ue,[]),a(rt,!1),$(null),a(t,[]),sessionStorage.removeItem("af-session-started"),sessionStorage.removeItem("af-session-answers"),sessionStorage.removeItem("af-limited-questions"),sessionStorage.removeItem("af-current-index"),xe.set(!1)}),Q("click",y,()=>a(s,Math.max(0,e(s)-1))),Q("click",A,()=>a(s,Math.min(e(t).length-1,e(s)+1))),c(x,q)};_(Xe,x=>{e(t),o(()=>e(t).length>0)&&x(Ze)})}i(T),c(N,T)},B=N=>{var T=xs(),H=l(T),Re=l(H);{var We=x=>{var q=fs(),j=l(q),C=l(j),re=l(C);vt(re,()=>e(s),O=>{var G=pe(),U=W(G);{var D=y=>{var A=us(),fe=l(A),Ce=l(fe);{var Oe=n=>{var d=os(),m=g(W(d),2),L=l(m);i(m),E(()=>F(L,"src",(he(Y),e(t),e(s),o(()=>`${Y}/svgs/${e(t)[e(s)].picture_question}.svg`)))),c(n,d)};_(Ce,n=>{e(t),e(s),o(()=>e(t)[e(s)].picture_question)&&n(Oe)})}var Me=g(Ce,2);{var Ge=n=>{var d=is(),m=l(d);V(m,()=>(e(t),e(s),o(()=>e(t)[e(s)].questionHtml))),i(d),c(n,d)},me=n=>{var d=ns(),m=l(d);V(m,()=>(e(t),e(s),o(()=>e(t)[e(s)].questionHtml??""))),i(d),c(n,d)};_(Me,n=>{e(t),e(s),o(()=>typeof e(t)[e(s)].questionHtml=="string"&&e(t)[e(s)].questionHtml.includes("katex"))?n(Ge):n(me,!1)})}var ae=g(Me,4);tt(ae,7,()=>e(ce),n=>n.index,(n,d,m)=>{var L=vs();let He;var Ve=l(L);{var Ye=k=>{var K=ls();E((oe,J)=>{F(K,"src",oe),F(K,"alt",J)},[()=>(he(Y),e(t),e(s),e(d),o(()=>`${Y}/svgs/${e(t)[e(s)][qe[Object.keys(le)[e(d).index]]]}.svg`)),()=>(e(d),o(()=>"Bild Antwort "+Object.keys(le)[e(d).index].toUpperCase()))],be),c(k,K)},P=(k,K)=>{{var oe=b=>{var I=ds(),et=l(I);V(et,()=>(e(d),o(()=>e(d).html))),i(I),c(b,I)},J=b=>{var I=cs(),et=l(I);V(et,()=>(e(d),o(()=>e(d).html??""))),i(I),c(b,I)};_(k,b=>{e(d),o(()=>{var I;return(I=e(d).html)==null?void 0:I.includes("katex")})?b(oe):b(J,!1)},K)}};_(Ve,k=>{e(t),e(s),e(d),o(()=>e(t)[e(s)][qe[Object.keys(le)[e(d).index]]])?k(Ye):k(P,!1)})}i(L),E(k=>{He=we(L,1,"border border-gray-300 rounded-lg p-2 min-h-[1rem] flex items-center justify-center text-gray-700 cursor-pointer hover:border-[color:var(--color-theme-1)] w-full text-xs",null,He,k),F(L,"data-answer-index",e(m))},[()=>({"border-[color:var(--color-theme-1)]":$()===e(m),"border-green-500":$()!==null&&e(m)===e(Pe)})],be),Q("click",L,()=>$()===null&&at(e(m))),c(n,L)}),i(ae);var Ne=g(ae,2),w=l(Ne);i(Ne),i(fe),i(A),E(()=>{F(fe,"data-question-id",(e(t),e(s),o(()=>e(t)[e(s)].number))),we(ae,1,lt(e(Be))),ie(w,`${e(t),e(s),o(()=>e(t)[e(s)].number)??""} – ${e(t),e(s),o(()=>e(t)[e(s)].section1)??""}; ${e(t),e(s),o(()=>e(t)[e(s)].section2)??""}; ${e(t),e(s),o(()=>e(t)[e(s)].section3)??""}`)}),c(y,A)};_(U,y=>{e(t),e(s),o(()=>e(t)[e(s)])&&y(D)})}c(O,G)}),i(C),i(j),i(q),c(x,q)};_(Re,x=>{e(t),o(()=>e(t).length>0)&&x(We)})}i(H),dt(H,x=>a(je,x),()=>e(je));var Xe=g(H,2);{var Ze=x=>{var q=ms(),j=W(q),C=l(j),re=l(C);i(C);var O=g(C,2),G=l(O);i(O);var U=g(O,2),D=l(U);i(U),i(j);var y=g(j,2),A=g(y,2);E(()=>{ie(re,`${e(s)+1} / ${e(t),o(()=>e(t).length)??""}`),ie(G,`Erfolgsquote: ${e(ne)??""} (${e(Ae)??""}%)`),y.disabled=e(s)===0,A.disabled=(e(s),e(t),o(()=>e(s)>=e(t).length-1))}),Q("click",D,()=>{a(Te,!1),a(p,[]),a(s,0),a(Ue,[]),a(rt,!1),$(null),a(t,[]),sessionStorage.removeItem("af-session-started"),sessionStorage.removeItem("af-session-answers"),sessionStorage.removeItem("af-limited-questions"),sessionStorage.removeItem("af-current-index"),xe.set(!1)}),Q("click",y,()=>a(s,Math.max(0,e(s)-1))),Q("click",A,()=>a(s,Math.min(e(t).length-1,e(s)+1))),c(x,q)};_(Xe,x=>{e(t),o(()=>e(t).length>0)&&x(Ze)})}i(T),c(N,T)};_(Z,N=>{e(De)?N(B,!1):N(z)})}c(se,ze)};_(ue,se=>{xe&&!e(Te)&&se($e)},_e)}};_(X,ue=>{Ie()?ue(bt,!1):ue(Ke)})}c(M,S)};_(r,M=>{e(st)&&M(h)},v)}};_(_t,r=>{e(Fe)?r(pt):r(ht,!1)})}c(Ee,ot),Ht(),ke()}export{Os as component,Cs as universal};
